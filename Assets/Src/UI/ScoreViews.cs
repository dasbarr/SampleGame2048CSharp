using TMPro;
using UnityEngine;
using Zenject;

namespace SampleGame2048 {
    
    /// <summary>
    /// Shows game score values in the UI.
    /// </summary>
    public class ScoreViews : MonoBehaviour {
        
        //-------------------------------------------------------------
        // Nested
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Dependencies
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Class constants
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Class variables
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Class methods
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Constructor/finalizer
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Variables
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Properties
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Private properties serialized for Unity
        //-------------------------------------------------------------

        /// <summary>
        /// Label that shows current game score.
        /// </summary>
        [SerializeField]
        private TMP_Text _currentScoreLabel;
        /// <summary>
        /// Label that shows best game score.
        /// </summary>
        [SerializeField]
        private TMP_Text _bestScoreLabel;
        
        //-------------------------------------------------------------
        // Events
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Public methods
        //-------------------------------------------------------------

        [Inject]
        public void Construct(ScoreStorage scoreStorage) {
            scoreStorage.CurrentScore
                .Subscribe(_currentScoreLabel);
            
            scoreStorage.BestScore
                .Subscribe(_bestScoreLabel);
        }
        
        //-------------------------------------------------------------
        // Protected methods
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Private methods
        //-------------------------------------------------------------
        
        //-------------------------------------------------------------
        // Unity methods
        //-------------------------------------------------------------
    }
}
